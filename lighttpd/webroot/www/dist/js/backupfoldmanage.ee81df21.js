(function(){"use strict";var e={9507:function(e,t,l){var n=l(45130),a=(l(44114),l(33110),l(58335),l(56768)),i=l(90144),o=l(24232),u=l(91844),r=(l(50635),l(59048)),s=l(92820),c=l(89231);const d={class:"BackupFoldManagerMain",style:{display:"flex","flex-direction":"column"}},v={style:{float:"left",width:"6vh",height:"6vh","margin-top":"1vh","margin-left":"1vh"}},f=["src"],h=["onClick"],p=["src"],g=["innerHTML"],k={style:{position:"absolute",width:"8.35vh",height:"5vh","margin-right":"2vh",right:"0"}},b={style:{position:"absolute"},onclick:"event.stopPropagation();"},y=["src"],m=["onClick"],L={class:"dialog-content"},w={class:"dialog-content-bd",style:{"max-height":"658px","overflow-y":"auto"}},_={style:{float:"left",position:"relative",width:"100%"}},S=["innerHTML"],x={class:"dialog-content-ft side"},O={style:{width:"100%",height:"25vh","background-color":"#ffffff","border-radius":"2vh 2vh 0 0",bottom:"0",position:"absolute"},onclick:"event.stopPropagation();"},T={style:{width:"80%","text-align":"center",height:"6vh","line-height":"6vh","font-size":"1.9vh","margin-left":"10%"}};var C={__name:"App",setup(e){const t=(0,i.KR)(!1),n=(0,i.KR)([]),C=(0,i.KR)(!1),q=(0,i.KR)(!1),K=(0,i.KR)(null),M=e=>{},H=e=>{e.target.value=(0,c.ZY)(e.target.value)},N=e=>{},J=e=>{e.target.value=(0,c.ZY)(e.target.value)},R=()=>{C.value=!1,q.value=!1,D.value=!1,E=null},j=()=>{X(),C.value=!0,K.value.querySelector(".paneltitle").innerHTML=(0,s.yk)("添加目录"),K.value.querySelector(".panel_setting").innerHTML=(0,s.yk)("提交"),K.value.querySelector(".panel_cancel").innerHTML=(0,s.yk)("按钮取消"),K.value.querySelector(".backupfoldnameinputlabel").placeholder=(0,s.yk)("目录名称"),K.value.querySelector(".panel_value").value="",setTimeout(()=>{K.value.querySelector(".panel_value").focus()},300)},z=()=>{0==n.value.length?t.value=!0:t.value=!1},P=()=>{let e={action:"backupfolds"};e["start"]=n.value.length,e["limit"]=20,r.o.request.backupfolds(JSON.stringify(e),function(e,t,l){var a=JSON.parse(e);if(1==a["status"]){var i=a["items"];if(0!=i.length){for(let e=0;e<i.length;++e)n.value.push(i[e]);z(),P()}else z()}else z()},function(e,t){Toast((0,s.yk)("设备异常!"))})};let E=null;const F=e=>{X(),q.value=!0,E=e,K.value.querySelector(".paneltitle").innerHTML=(0,s.yk)("修改目录"),K.value.querySelector(".panel_setting").innerHTML=(0,s.yk)("按钮确定"),K.value.querySelector(".panel_cancel").innerHTML=(0,s.yk)("按钮取消"),K.value.querySelector(".backupfoldnameinputlabel").placeholder=(0,s.yk)("分组名称"),K.value.querySelector(".panel_value").value=e.name,setTimeout(()=>{K.value.querySelector(".panel_value").focus()},300)},B=(0,i.KR)(0),A=(0,a.EW)(()=>({"--panelheight":B.value+"px"}));(0,a.sV)(()=>{window.OnKeyBoardShow=e=>{B.value=0-document.body.clientHeight*e},window.OnKeyBoardHide=()=>{B.value=0},window.OnKeyBack=()=>{let e=!1;1!=C.value&&1!=q.value&&1!=D.value||(e=!0,R()),0==e&&r.f.device.canback(),0==e&&r.f.device.canback()}}),(0,a.dY)(()=>{(0,c.RA)(),(0,s.hC)(),P()});let I=null;const X=()=>{if(null!=I)return I.classList.remove("delbutton_in"),I.classList.add("delbutton_out"),void(I=null)},Y=e=>{e.stopPropagation();let t=e.target.parentNode.querySelector(".delbackupfold");if(t==I)return I.classList.remove("delbutton_in"),I.classList.add("delbutton_out"),void(I=null);null!=I&&(I.classList.remove("delbutton_in"),I.classList.add("delbutton_out"),I=null),1==t.classList.contains("delbutton_in")?(t.classList.remove("delbutton_in"),t.classList.add("delbutton_out")):(t.classList.remove("delbutton_out"),t.classList.add("delbutton_in"),I=t)},D=(0,i.KR)(!1);let W=null,Z=(0,i.KR)("");const V=(e,t)=>{e.stopPropagation(),W=t,Z.value=t.name,D.value=!0},G=e=>{for(let t=0;t<n.value.length;++t)if(n.value[t].name==e){n.value.splice(t,1);break}},Q=()=>{let e={action:"backupfolddel"};e["name"]=W.name,r.o.request.backupfolddel(JSON.stringify(e),function(e,t,l){D.value=!1,X();var n=JSON.parse(e);if(1!=n["status"])return void Toast((0,s.yk)("删除失败!"));G(W.name);let a={optype:"del"};a.name=W.name,r.f.device.backupfoldchange(JSON.stringify(a)),Toast((0,s.yk)("删除成功!"))},function(e,t){D.value=!1,Toast((0,s.yk)("设备异常!"))})},U=()=>{D.value=!1},$=(e,t)=>{let l={action:"backupfoldmodify"};l["fname"]=e,l["tname"]=t,r.o.request.backupfoldmodify(JSON.stringify(l),function(l,a,i){R(),q.value=!1;var o=JSON.parse(l);if(0==o["status"]){let e=(0,s.yk)("操作异常");return e+=" ",e+=o["code"],void Toast(e)}for(let r=0;r<n.value.length;++r)if(n.value[r].name==e){n.value[r].name=t;break}let u={optype:"update"};u["fname"]=e,u["tname"]=t,r.f.device.backupfoldchange(JSON.stringify(u))},function(e,t){Toast((0,s.yk)("设备异常!")),q.value=!1})},ee=e=>{let t={action:"backupfoldadd"};t["name"]=e,r.o.request.backupfoldadd(JSON.stringify(t),function(t,l,a){var i=JSON.parse(t);if(C.value=!1,1!=i["status"])return void Toast((0,s.yk)("请求异常!"));if(1==i["exist"])return void Toast((0,s.yk)("该目录已经存在!"));let o={cover:"",fcount:0};o.name=e,o.piccount=0,o.videocount=0,n.value.unshift(o);let u={optype:"add"};u["name"]=e,r.f.device.backupfoldchange(JSON.stringify(u))},function(e,t){C.value=!1})},te=()=>{let e=K.value.querySelector(".panel_value").value;1==C.value?ee(e):$(E.name,e)},le=()=>{E=null,R()};return(e,t)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",d,[(0,a.Lk)("div",{class:"backupfolditem canclick",onClick:t[0]||(t[0]=e=>j())},[(0,a.Lk)("div",v,[(0,a.Lk)("img",{src:l(67310),width:"100%",height:"100%"},null,8,f)]),t[6]||(t[6]=(0,a.Lk)("div",{class:"addbackupfoldlabel",style:{float:"left","font-size":"2.4vh","font-weight":"550","line-height":"8vh","margin-left":"1vh"}},"添加目录",-1))]),(0,a.bF)((0,i.R1)(u.r),{options:{scrollbars:{autoHide:"scroll",visibility:"visible"}},style:{width:"100%",height:"100%","flex-grow":"1"}},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.value,e=>((0,a.uX)(),(0,a.CE)("div",{class:"divmain",key:e.name,style:{"box-sizing":"border-box",position:"relative",width:"100%"}},[(0,a.Lk)("div",{class:"backupfolditem canclick",style:{"padding-right":"10vh",display:"flex","flex-direction":"row"},onClick:t=>F(e)},[(0,a.Lk)("div",{class:"showdelbuttom",style:{width:"4vh",height:"4vh","margin-left":"2vh"},onClick:Y},[(0,a.Lk)("img",{src:l(49171),width:"100%",height:"100%"},null,8,p)]),(0,a.Lk)("div",{class:"backupfolditemname",style:{"font-size":"2.4vh","font-weight":"550","line-height":"8.6vh","margin-left":"2vh","flex-grow":"1"},innerHTML:e.name},null,8,g),(0,a.Lk)("div",k,[(0,a.Lk)("div",b,[(0,a.Lk)("img",{src:l(23041),width:"100%",height:"100%"},null,8,y)]),(0,a.Lk)("div",{class:"delbackupfold canclick",style:{"z-index":"1",height:"100%",float:"right",width:"0px",overflow:"hidden"},onClick:t=>V(t,e)},[...t[7]||(t[7]=[(0,a.Lk)("div",{class:"delbackupfoldlabel",style:{"background-color":"#d84140",width:"100%",height:"100%","border-radius":"3px",color:"#ffffff","text-align":"center","line-height":"5vh","font-size":"2.3vh"}}," 删除",-1)])],8,m)])],8,h)]))),128))]),_:1})]),(0,a.Lk)("div",{class:(0,o.C4)(["dialogpanel",{hidden:0==C.value&&0==q.value&&0==D.value}]),style:{position:"absolute",width:"100%",height:"100%",left:"0",top:"0","background-color":"rgba(122, 122, 122, .8)"},onClick:t[5]||(t[5]=e=>R())},[(0,a.Lk)("div",{class:(0,o.C4)(["panel dialog dialog-open dialog-modal",{hidden:0==D.value}]),"data-style":"ios",onClick:t[3]||(t[3]=e=>{e.stopPropagation()})},[t[11]||(t[11]=(0,a.Lk)("div",{class:"dialog-overlay"},null,-1)),(0,a.Lk)("div",L,[t[10]||(t[10]=(0,a.Lk)("div",{class:"dialog-content-hd"},[(0,a.Lk)("h3",{class:"language dialogcontenttitlelabel dialog-content-title"},"确认")],-1)),(0,a.Lk)("div",w,[(0,a.Lk)("div",_,[(0,a.Lk)("div",null,[t[8]||(t[8]=(0,a.Lk)("span",{class:"language paneldellabel"},"请确认是否需要删除目录",-1)),(0,a.Lk)("span",{class:"name",innerHTML:(0,i.R1)(Z)},null,8,S),t[9]||(t[9]=(0,a.eW)("？",-1))])])]),(0,a.Lk)("div",x,[(0,a.Lk)("button",{class:"language dialog-btn dialog_cancel",onClick:t[1]||(t[1]=e=>U())},"取消"),(0,a.Lk)("button",{class:"language dialog-btn dialog_sure",onClick:t[2]||(t[2]=e=>Q())},"确定")])])],2),(0,a.Lk)("div",{ref_key:"addbackfolditemitempanel",ref:K,class:(0,o.C4)(["panel",{hidden:0==C.value&&0==q.value}]),style:(0,o.Tr)([A.value,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%","background-color":"rgba(0, 0, 0, 0.027)","z-index":"2"}])},[(0,a.Lk)("div",O,[t[12]||(t[12]=(0,a.Lk)("div",{class:"paneltitle",style:{width:"100%","text-align":"center",height:"6.5vh","line-height":"6.5vh","font-size":"2.3vh"}},"分组标题 ",-1)),(0,a.Lk)("div",T,[(0,a.Lk)("input",{class:"backupfoldnameinputlabel panel_value form-control",name:"panel_value",maxlength:"10",type:"text",placeholder:"分组名称",onCompositionstart:M,onCompositionend:H,onCompositionupdate:N,onKeydown:t[4]||(t[4]=(...t)=>e.KeyDown&&e.KeyDown(...t)),onInput:J},null,32)]),(0,a.Lk)("div",{style:{width:"80%","text-align":"center",height:"7vh","line-height":"7vh","font-size":"1.9vh","margin-left":"10%","margin-top":"5vh"}},[(0,a.Lk)("a",{href:"#",class:"panelsettinglabel panel_setting button button-rounded button-primary",style:{float:"left",width:"40%"},onClick:te},"设置"),(0,a.Lk)("a",{href:"#",class:"panelcancellabel panel_cancel button button-rounded button-caution",style:{float:"right",width:"40%"},onClick:le},"取消")])])],6)],2)],64))}},q=l(71241);const K=(0,q.A)(C,[["__scopeId","data-v-6a88a189"]]);var M=K;l(70523),l(17945),l(85044),l(83779),l(38220),l(95956),l(22280),l(1563),l(55668);(0,n.Ef)(M).mount("#app")}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=e,function(){var e=[];l.O=function(t,n,a,i){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],i=e[c][2];for(var u=!0,r=0;r<n.length;r++)(!1&i||o>=i)&&Object.keys(l.O).every(function(e){return l.O[e](n[r])})?n.splice(r--,1):(u=!1,i<o&&(o=i));if(u){e.splice(c--,1);var s=a();void 0!==s&&(t=s)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,a,i]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){l.j=17}(),function(){l.p=""}(),function(){var e={17:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,o=n[0],u=n[1],r=n[2],s=0;if(o.some(function(t){return 0!==e[t]})){for(a in u)l.o(u,a)&&(l.m[a]=u[a]);if(r)var c=r(l)}for(t&&t(n);s<o.length;s++)i=o[s],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},n=self["webpackChunkwww"]=self["webpackChunkwww"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=l.O(void 0,[504,996],function(){return l(9507)});n=l.O(n)})();