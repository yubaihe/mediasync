(function(){"use strict";var e={79930:function(e,t,i){var a=i(45130),n=(i(33110),i(58335),i(56768)),l=i(24232),o=i(90144),r=i(89231),s=i(92820),d=i(59048),u=i(48319),c=i(91844),m=(i(50635),i(24073)),v=i(84820),h=i(11562),g=i(79620);const y={key:0,claa:"mediaimage",style:{width:"100%",height:"100%"}},f={key:0,style:{width:"100%",height:"100%"}},p={class:"imghasextra canclick",style:{position:"absolute","z-index":"100",width:"30px",height:"30px"}},k=["src"],w={class:"liveImagePlayer",style:{position:"absolute",width:"100%",height:"100%"}},L={key:1,claa:"mediavideo",style:{width:"100%",height:"100%"}},S={class:"info"},b=["innerHTML"],O={class:"layout-right",style:{"margin-right":"3vh","margin-top":"1.8vh",width:"1.5vh",height:"2.5vh"}},C={class:"mediatimedetail",style:{position:"relative",width:"100%",height:"100%"}},I=["src"],T=["innerHTML"],x={class:"layout-right",style:{"margin-right":"3vh","margin-top":"1.8vh",width:"1.5vh",height:"2.5vh"}},_={class:"mediatimedetail",style:{position:"relative",width:"100%",height:"100%"}},J=["src"],M=["innerHTML"],N={class:"layout-right",style:{"margin-right":"3vh","margin-top":"1.8vh",width:"1.5vh",height:"2.5vh"}},R={class:"suoshufenzudetail",style:{position:"relative",width:"100%",height:"100%"}},P=["src"],E=["innerHTML"],G={class:"layout-right",style:{"margin-right":"3vh","margin-top":"1.8vh",width:"1.5vh",height:"2.5vh"}},H={class:"playaddrdetail",style:{position:"relative",width:"100%",height:"100%"}},q=["src"],j={class:"mediaitem shebeimingcheng layout_flex"},A=["innerHTML"],z={class:"mediaitem layout_flex"},D=["innerHTML"],F={class:"mediaitem layout_flex",ref:"fenbianlvconatiner"},K=["innerHTML"],V={key:1,class:"mediaitem chixushijian layout_flex"},B=["innerHTML"],U={class:"mediaitem synctime layout_flex"},X=["innerHTML"];var Y={__name:"MediaSwipeSlide",props:{item:{type:Object,required:!0,default:()=>({})},autoplayvideo:{type:Boolean,required:!0,default:!1},cover:{type:String,required:!0,default:""},defaultcover:{type:String,required:!0,default:""}},emits:["updategroupinfo","updateitemlocation","coverchange","videoerror"],setup(e,{expose:t,emit:a}){const u=e;(0,n.wB)(()=>u.item,(e,t)=>{Se(e.itemid)}),(0,n.wB)(()=>u.autoplayvideo,(e,t)=>{1==u.autoplayvideo?te():ee()}),(0,n.wB)(()=>u.cover,(e,t)=>{e==u.item.maddr?be.value=!0:be.value=!1});const Y=(e,t)=>{Je("videoerror",e,t)},W=()=>{},Q=e=>{0!=u.autoplayvideo&&ae()},Z=e=>{0!=u.autoplayvideo&&$.value.PlayVideo()},$=(0,o.KR)(null),ee=()=>{2==u.item.mtype&&$.value.PauseVideo()},te=()=>{2==u.item.mtype&&$.value.PlayVideo()},ie=e=>{1==e.target.classList.contains("imghasextra")&&ae()},ae=()=>{null!=ne.value&&ne.value.Play()},ne=(0,o.KR)(null),le=e=>{let t={};t["id"]=e.id,t["weizhi"]=e.weizhi,t["location"]=e.location,d.f.device.gpsaddress(JSON.stringify(t))},oe=e=>{let t={};t["id"]=e.id,t["maddr"]=e.maddr,t["mtype"]=e.mtype,t["device"]=e.device,t["groupids"]=e.selectgroupids,d.f.device.updatefenzu(JSON.stringify(t))};function re(e){let t={};t["id"]=e.id,t["mtype"]=e.mtype,t["paitime"]=e.paitime,d.f.device.updatetime(JSON.stringify(t))}const se=e=>{let t={};t["id"]=e.id,d.f.device.choosenote(JSON.stringify(t))},de=(e,t)=>{let i=u.defaultcover;0==be.value&&(i=e.maddr);var a={action:"setcover"};a["coveraddr"]=i,d.o.request.setcover(JSON.stringify(a),function(i,a,n){var l=JSON.parse(i);if(1!=l["status"])return Toast((0,s.yk)("系统错误!")),void(null!=t&&t());0==be.value?(Toast((0,s.yk)("添加设备封面成功!")),be.value=!0,null!=t&&t()):(Toast((0,s.yk)("取消设备封面成功!")),be.value=!1,null!=t&&t());let o={};o["id"]=e.id,o["cover"]=1==be.value?1:0,d.f.device.cover(JSON.stringify(o)),Je("coverchange",o)})},ue=(e,t)=>{let i=0==e.pinnedtime?1:0;var a={action:"setmediapinned"};a["id"]=e.id,a["pinned"]=i,d.o.request.setmediapinned(JSON.stringify(a),function(a,n,l){var o=JSON.parse(a);if(1!=o["status"])return Toast((0,s.yk)("系统错误!")),void(null!=t&&t());1==i?(Toast((0,s.yk)("置顶成功!")),e.pinnedtime=Date.now()/1e3,null!=t&&t()):(Toast((0,s.yk)("取消置顶成功!")),e.pinnedtime=0,null!=t&&t());let r={};r["id"]=e.id,r["pinned"]=i,d.f.device.mediapinchange(JSON.stringify(r))})},ce=(e,t)=>{let i=0==e.favoritetime?1:0;var a={action:"mediafavorite"};a["id"]=e.id,a["favorite"]=i,d.o.request.mediafavorite(JSON.stringify(a),function(a,n,l){var o=JSON.parse(a);if(1!=o["status"])return Toast((0,s.yk)("系统错误!")),void(null!=t&&t());1==i?(Toast((0,s.yk)("添加喜欢成功!")),e.favoritetime=(0,r.nn)(),null!=t&&t()):(Toast((0,s.yk)("取消喜欢成功!")),e.favoritetime=0,null!=t&&t());let u={};u["id"]=e.id,u["favorite"]=i,d.f.device.favorite(JSON.stringify(u))})},me=e=>e.w+" X "+e.h,ve=e=>(0,r.yi)(e.msize),he=e=>{let t=new Date(1e3*e.addtime);return t.toLocaleString()},ge=e=>{let t=new Date(1e3*e.paitime),i=t.toLocaleString();return i},ye=e=>""==e.location?(0,s.yk)("未知"):e.location,fe=e=>""==e.commentshort?(0,s.yk)("暂无"):e.commentshort;let pe=(0,r.CC)();const ke=e=>{(0,m.us)(e.id,e.weizhi,e.location,(e,t,i)=>{Je("updateitemlocation",e,(0,s.yk)(t),i)})},we=(0,o.KR)(null),Le=e=>{let t=we.value.offsetWidth,i=we.value.offsetHeight;if(1==e.mtype&&1==e.hasextra)return e["containerheight"]=i+"px",void(e["containerwidth"]=t+"px");if(e.width<t&&e.height<i)return e["containerheight"]=e.h+"px",void(e["containerwidth"]=e.w+"px");let a=1*t/e.w,n=1*i/e.h,l=a>n?n:a;0==l&&(l=a+n),l>=.9&&(l=1),e["containerheight"]=e.h*l+"px",e["containerwidth"]=e.w*l+"px"},Se=e=>{let t={action:"groupnamesfromitemid"};t["id"]=e,d.o.request.groupnamesfromitemid(JSON.stringify(t),function(t,i,a){let n=JSON.parse(t),l=(0,s.yk)("未分组"),o="";if(1!=n["status"])l=(0,s.yk)("未知");else{n["groups"].length>0&&(l="");for(var r=0;r<n["groups"].length;++r)0==l.length?(l=n["groups"][r].name,o=n["groups"][r].id):(l+="&",l+=n["groups"][r].name,o+="&",o+=n["groups"][r].id)}Je("updategroupinfo",e,l,o)})},be=(0,o.KR)(!1),Oe=()=>{u.cover==u.item.maddr?be.value=!0:be.value=!1},Ce=()=>2==u.item.mtype?$.value.GetErrorCode():0,Ie=e=>{ue(u.item,e)},Te=e=>{ce(u.item,e)},xe=e=>{de(u.item,e)},_e=()=>be.value,Je=a;return t({StopVideo:ee,PlayVideo:te,PlayShiKuang:ae,InitItemWh:Le,GetVideoErrorCode:Ce,OnPinnedClick:Ie,OnFavoriteClick:Te,OnCoverClick:xe,IsCover:_e}),(0,n.dY)(()=>{(0,r.RA)(),(0,s.hC)(),ke(u.item),Le(u.item),Se(u.item.itemid),Oe()}),(t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:"MediaSlideItem",ref_key:"mediaplayer",ref:we},[(0,n.bF)((0,o.R1)(c.r),{options:{scrollbars:{autoHide:"scroll",visibility:"visible"}},class:"divmain",style:{width:"100%",height:"100%"}},{default:(0,n.k6)(()=>[(0,n.Lk)("div",{class:"media",style:(0,l.Tr)([{width:"100%",height:"100%"},{height:e.item.containerheight}])},[1==e.item.mtype?((0,n.uX)(),(0,n.CE)("div",y,[0==e.item.hasextra?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.bF)(h.A,{src:(0,o.R1)(r.Dl)(e.item.maddr),imgwidth:e.item.containerwidth,imgheight:e.item.containerheight,style:{width:"100%",height:"100%","text-align":"center",display:"flex","justify-content":"center"}},null,8,["src","imgwidth","imgheight"])])):((0,n.uX)(),(0,n.CE)("div",{key:1,style:{width:"100%",height:"100%"},onClick:ie},[(0,n.Lk)("div",p,[(0,n.Lk)("img",{src:i(87426),style:{position:"absolute",width:"100%",height:"100%"}},null,8,k)]),(0,n.Lk)("div",w,[(0,n.bF)(g.A,{ref_key:"liveImagePlayer",ref:ne,tag:e.item,imagesrc:(0,o.R1)(r.Dl)(e.item.maddr),autoplay:e.autoplayvideo,videosrc:(0,o.R1)(r.eO)(e.item.maddr),imgwidth:e.item.containerwidth,imgheight:e.item.containerheight,style:{width:"100%",height:"100%","text-align":"center"},onCanPlayThroughShiKuang:Q,onPlayShiKuangEnd:W},null,8,["tag","imagesrc","autoplay","videosrc","imgwidth","imgheight"])])]))])):((0,n.uX)(),(0,n.CE)("div",L,[(0,n.bF)(v.A,{ref_key:"videoPlayer",ref:$,src:(0,o.R1)(r.qy)(e.item.maddr),poster:(0,o.R1)(r.I)(e.item.maddr),onCanPlayThrough:Z,onPlayError:Y,autoplay:e.autoplayvideo,tag:e.item,style:{width:"100%",height:"100%"}},null,8,["src","poster","autoplay","tag"])]))],4),(0,n.Lk)("div",S,[(0,n.Lk)("div",{class:"mediaitem layout_flex canclick",onClick:a[0]||(a[0]=t=>re(e.item))},[a[4]||(a[4]=(0,n.Lk)("div",{class:"language layout-left mediaitemtitle mediapaitimelabel"},"拍摄时间:",-1)),(0,n.Lk)("div",{class:"layout-middle paisheshijian",innerHTML:ge(e.item)},null,8,b),(0,n.Lk)("div",O,[(0,n.Lk)("div",C,[(0,n.Lk)("img",{style:{position:"absolute",width:"100%",height:"100%",scale:"fit"},src:i(52419)},null,8,I)])])]),(0,n.Lk)("div",{class:"mediaitem layout_flex canclick",onClick:a[1]||(a[1]=t=>se(e.item))},[a[5]||(a[5]=(0,n.Lk)("div",{class:"language layout-left mediaitemtitle mediapaitimelabel"},"媒体备注:",-1)),(0,n.Lk)("div",{class:"layout-middle paisheshijian",innerHTML:fe(e.item)},null,8,T),(0,n.Lk)("div",x,[(0,n.Lk)("div",_,[(0,n.Lk)("img",{style:{position:"absolute",width:"100%",height:"100%",scale:"fit"},src:i(52419)},null,8,J)])])]),(0,n.Lk)("div",{class:"mediaitem suoshufenzu layout_flex canclick",onClick:a[2]||(a[2]=t=>oe(e.item))},[a[6]||(a[6]=(0,n.Lk)("div",{class:"language layout-left mediaitemtitle mediagrouplabel"},"所属分组:",-1)),(0,n.Lk)("div",{class:"layout-middle suoshufenzuvalue",innerHTML:e.item.groupnames},null,8,M),(0,n.Lk)("div",N,[(0,n.Lk)("div",R,[(0,n.Lk)("img",{style:{position:"absolute",width:"100%",height:"100%",scale:"fit"},src:i(52419)},null,8,P)])])]),(0,o.R1)(pe)?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"mediaitem playaddr layout_flex canclick",onClick:a[3]||(a[3]=t=>le(e.item))},[a[7]||(a[7]=(0,n.Lk)("div",{class:"language layout-left mediaitemtitle mediapaiaddrlabel"},"拍摄地点:",-1)),(0,n.Lk)("div",{class:"layout-middle paishedidian",innerHTML:ye(e.item)},null,8,E),(0,n.Lk)("div",G,[(0,n.Lk)("div",H,[(0,n.Lk)("img",{style:{position:"absolute",width:"100%",height:"100%",scale:"fit"},src:i(52419)},null,8,q)])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",j,[a[8]||(a[8]=(0,n.Lk)("div",{class:"language layout-left mediaitemtitle mediadevicenamelabel"},"设备名称:",-1)),(0,n.Lk)("div",{class:"layout-middle mediaitemname",innerHTML:e.item.device},null,8,A)]),(0,n.Lk)("div",z,[a[9]||(a[9]=(0,n.Lk)("div",{class:"language layout-left mediaitemtitle mediasizelabel"},"媒体大小:",-1)),(0,n.Lk)("div",{class:"layout-middle mediaitemsize",innerHTML:ve(e.item)},null,8,D)]),(0,n.Lk)("div",F,[a[10]||(a[10]=(0,n.Lk)("div",{class:"language layout-left mediaitemtitle fenbianlvlabel"},"分辨率:",-1)),(0,n.Lk)("div",{class:"layout-middle fenbianlv",innerHTML:me(e.item)},null,8,K)],512),2==e.item.mtype?((0,n.uX)(),(0,n.CE)("div",V,[a[11]||(a[11]=(0,n.Lk)("div",{class:"language layout-left mediaitemtitle mediadurationlabel"},"持续时间:",-1)),(0,n.Lk)("div",{class:"layout-middle mediaitemdur",innerHTML:(0,o.R1)(r._D)(e.item.dur)},null,8,B)])):(0,n.Q3)("",!0),(0,n.Lk)("div",U,[a[12]||(a[12]=(0,n.Lk)("div",{class:"language layout-left mediaitemtitle mediasynctimelabel"},"同步时间:",-1)),(0,n.Lk)("div",{class:"layout-middle mediaitemsynctime",innerHTML:he(e.item)},null,8,X)]),a[13]||(a[13]=(0,n.Lk)("div",{style:{width:"100%",height:"7vh","text-align":"center"}},null,-1))])]),_:1})],512))}},W=i(71241);const Q=(0,W.A)(Y,[["__scopeId","data-v-3657486b"]]);var Z=Q,$=i(26445),ee=i(23772);i(38220);class te{constructor(){(0,ee.A)(this,"g_transcodetimer",null),(0,ee.A)(this,"g_identify",""),(0,ee.A)(this,"g_callBack",null)}IsTranscodeRunning(){return null!=this.g_transcodetimer}TranscodeStart(e,t){if(null!=this.g_transcodetimer)return;this.g_callBack=t;let i={action:"transfilestart"};i["id"]=e.itemid,d.o.request.transfilestart(JSON.stringify(i),function(e,t,i){var a=JSON.parse(e);1==a.status?(ie.g_identify=a.identify,ie.GetStatus()):Toast((0,s.yk)("转码失败!"))},function(e,t){})}GetStatus(){this.g_transcodetimer=setInterval(function(){let e={action:"transfileprecent"};e["identify"]=ie.g_identify,d.o.request.transfileprecent(JSON.stringify(e),function(e,t,i){var a=JSON.parse(e);if(1==a.status&&0==a.precent&&0==a.cur&&0==a.dur&&(clearInterval(ie.g_transcodetimer),ie.g_transcodetimer=null,ie.g_callBack()),DialogToast((0,s.yk)("视频转码"),(0,s.yk)("{0}% ({1}秒/{2}秒)").format(a.precent,parseInt(a.cur/1e3),parseInt(a.dur/1e3)),(0,s.yk)("取 消"),()=>{let e={action:"transfilestop"};e["identify"]=ie.g_identify,d.o.request.transfilestop(JSON.stringify(e),function(e,t,i){Toast((0,s.yk)("转码已取消!")),DialogClose(),clearInterval(ie.g_transcodetimer),ie.g_transcodetimer=null},function(e,t){})}),1!=a.status)return Toast((0,s.yk)("转码失败!")),clearInterval(ie.g_transcodetimer),void(ie.g_transcodetimer=null);100==a.precent&&(clearInterval(ie.g_transcodetimer),ie.g_transcodetimer=null,ie.g_callBack())},function(e,t){})},1e3)}}var ie=new te,ae=ie,ne=i(23303);const le={class:"mediaplayer"},oe=["src"];var re={__name:"App",setup(e){const t=(0,o.KR)([{img:i(46734),tip:"置顶"},{img:i(4700),tip:"收藏"},{img:i(11963),tip:"封面"},{img:i(17180),tip:"删除"}]),a=(0,o.KR)(!0),c=(e,t)=>{C.value.BindInstance(e,t)},m=(0,o.KR)(null),v=()=>{m.value.CollapseMenu()},h=()=>{m.value.CollapseMenu()},g=(e,t)=>{let i=C.value.GetCurItem();e.itemid==i.itemid&&p(e,t)},y=()=>{let e=C.value.GetCurItem();C.value.GetInstance(e.id).PlayShiKuang()},f=e=>{let t={action:"gethomecover"};d.o.request.gethomecover(JSON.stringify(t),function(e,t,i){var a=JSON.parse(e);T.value=a.cover},function(){})},p=(e,t)=>{if(4==t){let i={action:"getmime"};i["id"]=e.itemid,d.o.request.getmime(JSON.stringify(i),function(i,a,n){var l=JSON.parse(i);if(1==l.status&&""!=l["mime"]){var o=(0,s.yk)("不支持格式<span style='color:red'>{0}</span>的视频播放，请确认是否需要转码为<span style='color:#1B9AF7'>MP4</span>格式？").format(l["mime"]);ShowConfirm((0,s.yk)("视频转码确认"),o,1,(0,s.yk)("按钮确定"),function(){G(),ae.TranscodeStart(e,()=>{location.reload()})},(0,s.yk)("按钮取消"),function(){UnSetToast()})}else window.ToastError((0,s.yk)("播放错误,错误码: ")+t)},function(){window.ToastError((0,s.yk)("播放错误,错误码: ")+t)})}else window.ToastError((0,s.yk)("播放错误,错误码: ")+t)},k=()=>{let e=C.value.GetCurItem(),a=C.value.GetInstance(e.id);0==e.pinnedtime?t.value[0].img=i(46734):t.value[0].img=i(10593),0==e.favoritetime?t.value[1].img=i(30897):t.value[1].img=i(4700),console.log(e),1==a.IsCover()?t.value[2].img=i(11963):t.value[2].img=i(3680)},w=e=>{console.log(e);let t=C.value.GetCurItem(),i=C.value.GetInstance(t.id);0==e&&i.OnPinnedClick(()=>{k()}),1==e&&i.OnFavoriteClick(()=>{k()}),2==e&&i.OnCoverClick(()=>{k()}),3==e&&setTimeout(()=>{I(t)},1)},L=e=>{d.f.device.selectitemchange(JSON.stringify(e)),C.value.EnumInstance(t=>{e.itemid==t.itemid?(t.autoplayvideo=!0,setTimeout(()=>{let t=C.value.GetInstance(e.itemid).GetVideoErrorCode();0!=t&&p(e,t)},500)):t.autoplayvideo=!1}),setTimeout(()=>{H(),y()},100)},S=()=>{a.value=!1,d.f.device.dataempty()},b=(e,t,i)=>{0==t.length&&(t=(0,s.yk)("未分组")),C.value.UpdateGroupInfo(e,t,i)},O=(e,t,i)=>{C.value.UpdateItemLocation(e,t,i)},C=(0,o.KR)(null),I=e=>{m.value.CollapseMenu(),console.log("DeleteMediaItem"),C.value.Disable(),C.value.GetInstance(e.id).StopVideo(),ShowConfirm((0,s.yk)("确认"),(0,s.yk)("删除后将永远丢失该媒体的存储,请确认!"),1,(0,s.yk)("按钮确定"),function(){var t={action:"delmediaitem"};t["id"]=e.id,d.o.request.delmediaitem(JSON.stringify(t),function(t,i,a){C.value.Enable();var n=JSON.parse(t);if(1!=n["status"])return void Toast((0,s.yk)("系统错误!"));let l={};l["id"]=e.id,l["mtype"]=e.mtype,l["favorite"]=e.favoritetime>0?1:0,l["paitime"]=e.paitime,l["addtime"]=e.addtime,d.f.device.deleteitem(JSON.stringify(l)),C.value.RemoveCurSel()},function(e,t){C.value.Enable()})},(0,s.yk)("按钮取消"),function(){UnSetToast(),C.value.GetInstance(e.id).PlayVideo(),C.value.Enable()})};let T=(0,o.KR)(""),x=0,_=0,J=0,M="",N="",R=0;const P=e=>{let t={action:"itemdetail"};t["itemid"]=e,t["devnames"]=(0,r.sL)(),t["type"]=N,t["gid"]=R,t["year"]=x,t["month"]=_,t["day"]=J,t["location"]=M,d.o.request.itemdetail(JSON.stringify(t),function(e,t,i){var a=JSON.parse(e);T.value=a.cover,E(a)},function(){window.Toast("请求异常")})},E=e=>{console.log("AssembleItems start");let t=Object.hasOwn(e,"prev");console.log("AssembleItems hasPrev "+t);let i=Object.hasOwn(e,"next");console.log("AssembleItems hasNext "+i),e["cur"]["itemid"]=e["cur"].id,e["cur"]["containerheight"]="0px",e["cur"]["containerwidth"]="0px",e["cur"]["location"]=(0,s.yk)("获取中..."),e["cur"]["groupnames"]=(0,s.yk)("未分组"),1==t&&(e["prev"]["itemid"]=e["prev"].id,e["prev"]["containerheight"]="0px",e["prev"]["containerwidth"]="0px",e["prev"]["location"]=(0,s.yk)("获取中..."),e["prev"]["groupnames"]=(0,s.yk)("未分组")),1==i&&(e["next"]["itemid"]=e["next"].id,e["next"]["containerheight"]="0px",e["next"]["containerwidth"]="0px",e["next"]["paishedizhi"]=(0,s.yk)("获取中..."),e["next"]["location"]=(0,s.yk)("获取中..."),e["next"]["groupnames"]=(0,s.yk)("未分组")),C.value.AssembleItems(e)},G=()=>{let e=C.value.GetCurItem();C.value.GetInstance(e.id).StopVideo()},H=()=>{let e=C.value.GetCurItem();C.value.GetInstance(e.id).InitItemWh(e)};(0,n.xo)(()=>{window.removeEventListener("resize",H)});const q=(0,o.KR)("");return(0,n.sV)(()=>{window.addEventListener("resize",H),window.Release=()=>{G()},window.RefreshCurItem=()=>{let e=C.value.GetCurItem();if(null==e)return;let t={action:"itemdetail"};t["itemid"]=e.id,t["devnames"]="",t["type"]="",t["gid"]=0,t["year"]=0,t["month"]=0,t["day"]=0,t["location"]="",d.o.request.itemdetail(JSON.stringify(t),function(t,i,a){var n=JSON.parse(t);let l=n.cur;l["itemid"]=l.id,l["groupnames"]=e.groupnames,l["containerheight"]=e.containerheight,l["containerwidth"]=e.containerwidth,l["iscover"]=T.value==l["maddr"],C.value.UpdateCurItem(l)},function(){})},window.UpdatePaiSheShiJian=e=>{window.RefreshCurItem()},window.UpdatePaiSheDiDian=(e,t,i)=>{window.RefreshCurItem()},window.StopPlay=()=>{G()},window.InitItem=(e,t,i,a,n)=>{q.value=e,N=t,R=a,M=n;let l={action:"itemdetail"};l["itemid"]=i,l["devnames"]="",l["type"]="",l["gid"]=0,l["year"]=0,l["month"]=0,l["day"]=0,l["location"]="",d.o.request.itemdetail(JSON.stringify(l),function(e,t,i){var a=JSON.parse(e);if(1!=a["status"])return;let n=a.cur;var l=new Date(1e3*n.paitime);"recent"==N||"favorite"==N||"group"==N||("year"==N?x=l.getFullYear():"month"==N?(x=l.getFullYear(),_=l.getMonth()+1):"day"==N&&(x=l.getFullYear(),_=l.getMonth()+1,J=l.getDate())),P(n.id)})}}),(0,n.sV)(()=>{(0,s.hC)()}),(0,n.dY)(()=>{(0,r.RA)(),(0,$.M8)(300,e=>{y()},()=>{})}),(e,r)=>((0,n.uX)(),(0,n.CE)("div",le,[(0,n.Lk)("div",{class:(0,l.C4)(["nodatadiv",{hidden:1==a.value}]),style:{position:"absolute","text-align":"center",width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center"}},[(0,n.Lk)("img",{src:i(10829),style:{width:"10vh",height:"10vh"}},null,8,oe)],2),(0,n.bF)(ne.A,{ref_key:"horizontalMenu",ref:m,class:(0,l.C4)({hidden:0==a.value}),style:{width:"100%",height:"100%",position:"absolute"},menuitems:t.value,onMenuItemClick:w,onBeforeShowMenu:k},null,8,["class","menuitems"]),(0,n.bF)(u.A,{class:(0,l.C4)({hidden:0==a.value}),ref_key:"swipewraper",ref:C,style:{width:"100%",height:"100%",position:"relative"},onRequestItem:P,onItemSelect:L,onRemoveCurSel:I,onEmpty:S,onMousedown:v,onTouchstart:h},{content:(0,n.k6)(({item:e})=>[(0,n.bF)(Z,{style:{width:"100%",height:"100%"},item:e,defaultcover:q.value,cover:(0,o.R1)(T),autoplayvideo:e.autoplayvideo,onDeletemediaitem:I,ref:t=>c(t,e.id),onUpdategroupinfo:b,onUpdateitemlocation:O,onCoverchange:f,onVideoerror:g},null,8,["item","defaultcover","cover","autoplayvideo"])]),_:1},8,["class"])]))}};const se=re;var de=se;i(70523),i(17945),i(85044),i(83779),i(95956),i(22280),i(1563),i(55668);(0,a.Ef)(de).mount("#app")}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(l.exports,l,l.exports,i),l.loaded=!0,l.exports}i.m=e,function(){var e=[];i.O=function(t,a,n,l){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],l=e[u][2];for(var r=!0,s=0;s<a.length;s++)(!1&l||o>=l)&&Object.keys(i.O).every(function(e){return i.O[e](a[s])})?a.splice(s--,1):(r=!1,l<o&&(o=l));if(r){e.splice(u--,1);var d=n();void 0!==d&&(t=d)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,n,l]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){i.j=710}(),function(){i.p=""}(),function(){var e={710:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,l,o=a[0],r=a[1],s=a[2],d=0;if(o.some(function(t){return 0!==e[t]})){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(s)var u=s(i)}for(t&&t(a);d<o.length;d++)l=o[d],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(u)},a=self["webpackChunkwww"]=self["webpackChunkwww"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[504,996],function(){return i(79930)});a=i.O(a)})();